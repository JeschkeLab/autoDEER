<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>autodeer.DEER_analysis - </title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-toolbox-code.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand"> </div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/autoDEER_EPR_light.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/autoDEER_EPR_dark.svg" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text"> </span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../source/Install.html">Installation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Installation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../source/Install_python.html">Installing Python</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../source/tutorial.html">Tutorial</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Tutorial</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../source/Algorithum.html">The Automated Algorithum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../source/gui_guide.html">autoDEER GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../source/Jupyter_interface.html">Jupyter Interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../source/API_docs.html">API doc</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../source/autoEPR/index.html">autoEPR</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of autoEPR</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../source/autoEPR/Getting_Started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../source/autoEPR/Sequencer.html">Creating a Custom Sequence</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../source/autoEPR/Interface.html">Interfaces</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Interfaces</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../source/autoEPR/Bruker_interface.html">Bruker Interface</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../source/releasenotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../source/contributing.html">Contributing Guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/JeschkeLab/autoDEER">Github</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../../_sources/autoapi/autodeer/DEER_analysis/index.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="module-autodeer.DEER_analysis">
<span id="autodeer-deer-analysis"></span><h1><a class="reference internal" href="#module-autodeer.DEER_analysis" title="autodeer.DEER_analysis"><code class="xref py py-mod docutils literal notranslate"><span class="pre">autodeer.DEER_analysis</span></code></a><a class="headerlink" href="#module-autodeer.DEER_analysis" title="Link to this heading">¶</a></h1>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading">¶</a></h2>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Link to this heading">¶</a></h3>
<div class="table-wrapper autosummary longtable docutils container">
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.calc_identifiability" title="autodeer.DEER_analysis.calc_identifiability"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calc_identifiability</span></code></a>(profile)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.find_longest_pulse" title="autodeer.DEER_analysis.find_longest_pulse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_longest_pulse</span></code></a>(sequence)</p></td>
<td><p>Finds the longest pulse duration in a given sequence.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.MNR_estimate" title="autodeer.DEER_analysis.MNR_estimate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MNR_estimate</span></code></a>(Vexp, t[, mask])</p></td>
<td><p>Estimates the Modulation to Noise Ratio (MNR) of a DEER signal without fitting.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.val_in_us" title="autodeer.DEER_analysis.val_in_us"><code class="xref py py-obj docutils literal notranslate"><span class="pre">val_in_us</span></code></a>(Param)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.DEERanalysis" title="autodeer.DEER_analysis.DEERanalysis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DEERanalysis</span></code></a>(dataset[, compactness, model, ROI, ...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.background_func" title="autodeer.DEER_analysis.background_func"><code class="xref py py-obj docutils literal notranslate"><span class="pre">background_func</span></code></a>(t, fit)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.calc_correction_factor" title="autodeer.DEER_analysis.calc_correction_factor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calc_correction_factor</span></code></a>(fit_result[, aim_MNR, aim_time])</p></td>
<td><p>Calculate the correction factor for the number of averages required to achieve a given MNR in a given time.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.DEERanalysis_plot" title="autodeer.DEER_analysis.DEERanalysis_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DEERanalysis_plot</span></code></a>(fit, background[, ROI, axs, fig, text])</p></td>
<td><p>DEERanalysis_plot Generates a figure showing both the time domain and</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.DEERanalysis_plot_pub" title="autodeer.DEER_analysis.DEERanalysis_plot_pub"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DEERanalysis_plot_pub</span></code></a>(results[, ROI, fig, axs])</p></td>
<td><p>Generates a vertical plot of the DEER analysis results, ready for publication.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.IdentifyROI" title="autodeer.DEER_analysis.IdentifyROI"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IdentifyROI</span></code></a>(P, r[, criterion, method])</p></td>
<td><p>IdentifyROI Identifies the region of interest. Two methods are sypported</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.remove_echo" title="autodeer.DEER_analysis.remove_echo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_echo</span></code></a>(Vre, Vim, loc[, criteria, extent])</p></td>
<td><p>This function removes crossing echoes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.shift_pulse_freq" title="autodeer.DEER_analysis.shift_pulse_freq"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shift_pulse_freq</span></code></a>(pulse, shift)</p></td>
<td><p>Shifts the frequency of a pulse by a given amount.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.normalise_01" title="autodeer.DEER_analysis.normalise_01"><code class="xref py py-obj docutils literal notranslate"><span class="pre">normalise_01</span></code></a>(A)</p></td>
<td><p>Normalizes the input vector A to be between 0 and 1.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.resample_and_shift_vector" title="autodeer.DEER_analysis.resample_and_shift_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">resample_and_shift_vector</span></code></a>(A, f, shift)</p></td>
<td><p>Resample the vector A along axis f and shift it by shift and return on original axis f.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.build__lowpass_butter_filter" title="autodeer.DEER_analysis.build__lowpass_butter_filter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build__lowpass_butter_filter</span></code></a>(cutoff)</p></td>
<td><p>Build a lowpass butterworth filter with a cutoff frequency of cutoff</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.functional" title="autodeer.DEER_analysis.functional"><code class="xref py py-obj docutils literal notranslate"><span class="pre">functional</span></code></a>(f_axis, fieldsweep, A, B[, filter, ...])</p></td>
<td><p>Functional for optimising the pulse positions</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.optimise_pulses" title="autodeer.DEER_analysis.optimise_pulses"><code class="xref py py-obj docutils literal notranslate"><span class="pre">optimise_pulses</span></code></a>(Fieldsweep, pump_pulse, exc_pulse[, ...])</p></td>
<td><p>Optimise the pulse positions to maximise the pump-exc overlap.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.plot_overlap" title="autodeer.DEER_analysis.plot_overlap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_overlap</span></code></a>(Fieldsweep, pump_pulse, exc_pulse, ref_pulse)</p></td>
<td><p>Plots the pump and excitation profiles as well as the fieldsweep and filter profile.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.calc_deer_settings" title="autodeer.DEER_analysis.calc_deer_settings"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calc_deer_settings</span></code></a>(experiment[, CPdecay, Refocused2D, ...])</p></td>
<td><p>Calculates the optimal DEER settings based on the avaliable relaxation data</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Link to this heading">¶</a></h3>
<div class="table-wrapper autosummary longtable docutils container">
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.log" title="autodeer.DEER_analysis.log"><code class="xref py py-obj docutils literal notranslate"><span class="pre">log</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#autodeer.DEER_analysis.MODULE_DIR" title="autodeer.DEER_analysis.MODULE_DIR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MODULE_DIR</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py data">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.log">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">log</span></span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.log" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.MODULE_DIR">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">MODULE_DIR</span></span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#MODULE_DIR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.MODULE_DIR" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.calc_identifiability">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">calc_identifiability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#calc_identifiability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.calc_identifiability" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.find_longest_pulse">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">find_longest_pulse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#find_longest_pulse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.find_longest_pulse" title="Link to this definition">¶</a></dt>
<dd><p>Finds the longest pulse duration in a given sequence.</p>
<p>Args:
sequence (Sequence): The sequence to analyze.</p>
<p>Returns:
float: The duration of the longest pulse in microseconds.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.MNR_estimate">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">MNR_estimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Vexp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#MNR_estimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.MNR_estimate" title="Link to this definition">¶</a></dt>
<dd><p>Estimates the Modulation to Noise Ratio (MNR) of a DEER signal without fitting.
This is done by applying a low pass filter to remove noise and then finding the peaks in the signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>Vexp</strong><span class="classifier">np.ndarray</span></dt><dd><p>The experimental DEER signal, real part only.</p>
</dd>
<dt><strong>t</strong><span class="classifier">np.ndarray</span></dt><dd><p>The time axis of the DEER signal, in microseconds.</p>
</dd>
<dt><strong>mask</strong><span class="classifier">np.ndarray, optional</span></dt><dd><p>The mask to apply to the data, by default None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>float</dt><dd><p>The estimated MNR of the dataset.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.val_in_us">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">val_in_us</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#val_in_us"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.val_in_us" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.DEERanalysis">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">DEERanalysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compactness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ROI</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'5pDEER'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbosity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_crossing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#DEERanalysis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.DEERanalysis" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.background_func">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">background_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#background_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.background_func" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.calc_correction_factor">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">calc_correction_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fit_result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aim_MNR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aim_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#calc_correction_factor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.calc_correction_factor" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the correction factor for the number of averages required to achieve a given MNR in a given time.
Parameters
———-
fit_result : Deerlab.FitResult</p>
<blockquote>
<div><p>The fit result from the DEER analysis.</p>
</div></blockquote>
<dl class="simple">
<dt>aim_MNR<span class="classifier">float, optional</span></dt><dd><p>The desired MNR, by default 25</p>
</dd>
<dt>aim_time<span class="classifier">float, optional</span></dt><dd><p>The desired time in hours, by default 2</p>
</dd>
</dl>
<section id="returns">
<h4>Returns<a class="headerlink" href="#returns" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>float</dt><dd><p>The correction factor for the number of averages.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.DEERanalysis_plot">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">DEERanalysis_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ROI</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#DEERanalysis_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.DEERanalysis_plot" title="Link to this definition">¶</a></dt>
<dd><p>DEERanalysis_plot Generates a figure showing both the time domain and
distance domain data along with extra important infomation such as the
Modulation to Noise Ratio (MNR), Region of Interest (ROI) and the
recommended dipolar evolution time for future experiments based upon the
ROI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fit</strong><span class="classifier">Deerlab.FitResult</span></dt><dd><p>_description_</p>
</dd>
<dt><strong>background</strong><span class="classifier">bool</span></dt><dd><p>Should the background fit be plotted.</p>
</dd>
<dt><strong>ROI</strong><span class="classifier">tuple, optional</span></dt><dd><p>The minimum and maximum of the Region of Interest (ROI),
by default None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>Figure</dt><dd><p>A Matplotlib Figure object of the figure.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>background</strong> (<em>bool</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.DEERanalysis_plot_pub">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">DEERanalysis_plot_pub</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ROI</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#DEERanalysis_plot_pub"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.DEERanalysis_plot_pub" title="Link to this definition">¶</a></dt>
<dd><p>Generates a vertical plot of the DEER analysis results, ready for publication.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>results</strong><span class="classifier">Deerlab.FitResult</span></dt><dd><p>The results of the DEER analysis.</p>
</dd>
<dt><strong>ROI</strong><span class="classifier">tuple, optional</span></dt><dd><p>The minimum and maximum of the Region of Interest (ROI),
by default None</p>
</dd>
<dt><strong>fig</strong><span class="classifier">matplotlib.figure.Figure, optional</span></dt><dd><p>The figure to plot the results on. If None, a new figure is created.</p>
</dd>
<dt><strong>axs</strong><span class="classifier">matplotlib.axes.Axes, optional</span></dt><dd><p>The axes to plot the results on. If None, a new axes is created.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.IdentifyROI">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">IdentifyROI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">P</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criterion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.99</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gauss'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#IdentifyROI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.IdentifyROI" title="Link to this definition">¶</a></dt>
<dd><p>IdentifyROI Identifies the region of interest. Two methods are sypported</p>
<section id="methods">
<h4>Methods<a class="headerlink" href="#methods" title="Link to this heading">¶</a></h4>
<ol class="arabic simple">
<li><p>Gaussian fitting (“gauss”):</p></li>
<li><p>Intergration (“int”):</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>P</strong><span class="classifier">np.ndarray</span></dt><dd><p>The distance distribution.</p>
</dd>
<dt><strong>r</strong><span class="classifier">np.ndarray</span></dt><dd><p>The distance axis</p>
</dd>
<dt><strong>criterion</strong><span class="classifier">float, optional</span></dt><dd><p>The fraction of the distance distribution that must be in the ROI, by
default 0.99</p>
</dd>
<dt><strong>method: str, optional</strong></dt><dd><p>The method used to calculate region of interest.</p>
</dd>
</dl>
</dd>
</dl>
</section>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>P</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>r</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>criterion</strong> (<em>float</em>)</p></li>
<li><p><strong>method</strong> (<em>str</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.remove_echo">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">remove_echo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Vre</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criteria</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#remove_echo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.remove_echo" title="Link to this definition">¶</a></dt>
<dd><p>This function removes crossing echoes.
Parameters
———-
Vre : np.ndarray</p>
<blockquote>
<div><p>The real part of the phase corrected signal.</p>
</div></blockquote>
<dl class="simple">
<dt>Vim<span class="classifier">np.ndarray</span></dt><dd><p>The imaginary part of the phase corrected signal.</p>
</dd>
<dt>loc<span class="classifier">int</span></dt><dd><p>The approximate location of the crossing echo, +- 30 data points</p>
</dd>
<dt>criteria<span class="classifier">float, optional</span></dt><dd><p>The detection criteria, in multiples of the std deviation, by default 4</p>
</dd>
<dt>extent<span class="classifier">int, optional</span></dt><dd><p>How many data points either side to remove, by default 3.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>np.ndarray</dt><dd><p>The mask of points to be ignored.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>Vre</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>Vim</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>loc</strong> (<em>int</em>)</p></li>
<li><p><strong>criteria</strong> (<em>float</em>)</p></li>
<li><p><strong>extent</strong> (<em>int</em>)</p></li>
</ul>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.shift_pulse_freq">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">shift_pulse_freq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pulse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#shift_pulse_freq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.shift_pulse_freq" title="Link to this definition">¶</a></dt>
<dd><p>Shifts the frequency of a pulse by a given amount.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>pulse: The pulse whose frequency should be shifted.
shift: The amount by which to shift the frequency.</p>
</dd>
<dt>Returns:</dt><dd><p>The pulse with the shifted frequency.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.normalise_01">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">normalise_01</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#normalise_01"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.normalise_01" title="Link to this definition">¶</a></dt>
<dd><p>Normalizes the input vector A to be between 0 and 1.</p>
<p>Parameters:
A (numpy.ndarray): Input vector to be normalized.</p>
<p>Returns:
numpy.ndarray: Normalized vector between 0 and 1.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.resample_and_shift_vector">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">resample_and_shift_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#resample_and_shift_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.resample_and_shift_vector" title="Link to this definition">¶</a></dt>
<dd><p>Resample the vector A along axis f and shift it by shift and return on original axis f.</p>
<p>Parameters:
A (numpy.ndarray): The input vector to be resampled and shifted.
f (numpy.ndarray): The axis along which to resample the vector.
shift (float): The amount by which to shift the resampled vector.</p>
<p>Returns:
numpy.ndarray: The resampled and shifted vector.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.build__lowpass_butter_filter">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">build__lowpass_butter_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cutoff</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#build__lowpass_butter_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.build__lowpass_butter_filter" title="Link to this definition">¶</a></dt>
<dd><p>Build a lowpass butterworth filter with a cutoff frequency of cutoff</p>
<dl class="simple">
<dt>Args:</dt><dd><p>cutoff (float): cutoff frequency in GHz</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.functional">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">functional</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldsweep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#functional"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.functional" title="Link to this definition">¶</a></dt>
<dd><p>Functional for optimising the pulse positions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>f_axis</strong><span class="classifier">np.ndarray</span></dt><dd><p>The frequency axis of the field sweep in GHz</p>
</dd>
<dt><strong>fieldsweep</strong><span class="classifier">ad.FieldSweepAnalysis</span></dt><dd><p>The FieldSweep analysis object</p>
</dd>
<dt><strong>A</strong><span class="classifier">np.ndarray</span></dt><dd><p>The pump pulse profile</p>
</dd>
<dt><strong>B</strong><span class="classifier">np.ndarray</span></dt><dd><p>The effective excitation pulse profile</p>
</dd>
<dt><strong>filter</strong><span class="classifier">np.ndarray, optional</span></dt><dd><p>The filter profile if applicable, by default None</p>
</dd>
<dt><strong>A_shift</strong><span class="classifier">int, optional</span></dt><dd><p>The shift in pump pulse in GHz, by default 0</p>
</dd>
<dt><strong>B_shift</strong><span class="classifier">int, optional</span></dt><dd><p>The shift in effective exciatation pulse in GHz, by default 0</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>_type_</dt><dd><p>_description_</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.optimise_pulses">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">optimise_pulses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fieldsweep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pump_pulse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_pulse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_pulse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbosity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'brute'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nDEER</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_ref_pulses</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resonator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#optimise_pulses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.optimise_pulses" title="Link to this definition">¶</a></dt>
<dd><p>Optimise the pulse positions to maximise the pump-exc overlap.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>Fieldsweep</strong><span class="classifier">ad.FieldSweepAnalysis</span></dt><dd><p>The FieldSweep analysis object</p>
</dd>
<dt><strong>pump_pulse</strong><span class="classifier">ad.Pulse</span></dt><dd><p>The pump pulse object</p>
</dd>
<dt><strong>exc_pulse</strong><span class="classifier">ad.Pulse</span></dt><dd><p>The excitation pulse object</p>
</dd>
<dt><strong>ref_pulse</strong><span class="classifier">ad.Pulse, optional</span></dt><dd><p>The refocusing pulse object, by default None</p>
</dd>
<dt><strong>filter</strong><span class="classifier">str or number or list, optional</span></dt><dd><p>The filter profile if applicable, by default None. If it is a number a filter is generated with this cutoff frequency.
If the string ‘Matched’ is used a matched filter is used. If a list is used the optimisation is performed for each filter and the best is returned.</p>
</dd>
<dt><strong>verbosity</strong><span class="classifier">int, optional</span></dt><dd><p>The verbosity, by default 0</p>
</dd>
<dt><strong>method</strong><span class="classifier">str, optional</span></dt><dd><p>What search optimisation is used, by default ‘grid’</p>
</dd>
<dt><strong>nDEER</strong><span class="classifier">bool, optional</span></dt><dd><p>Is the sequence an nDEER sequrence, by default False. If True then the refocusing pulse is not optimised.</p>
</dd>
<dt><strong>num_ref_pulses</strong><span class="classifier">int, optional</span></dt><dd><p>The total number of refocusing pulses, by default 2</p>
</dd>
<dt><strong>full_output</strong><span class="classifier">bool, optional</span></dt><dd><p>Return the full output, by default False</p>
</dd>
<dt><strong>resonator</strong><span class="classifier">ad.ResonatorProfile, optional</span></dt><dd><p>The resonator profile, by default None</p>
</dd>
<dt><strong>Returns</strong></dt><dd></dd>
<dt><strong>——-</strong></dt><dd></dd>
<dt><strong>ad.Pulse</strong></dt><dd><p>The optimised pump pulse</p>
</dd>
<dt><strong>ad.Pulse</strong></dt><dd><p>The optimised excitation pulse</p>
</dd>
<dt><strong>ad.Pulse</strong></dt><dd><p>The optimised refocusing pulse</p>
</dd>
<dt><strong>str or number</strong></dt><dd><p>The best filter, only if a list of filters is provided</p>
</dd>
<dt><strong>float</strong></dt><dd><p>The functional value after optimisation, only if full_output is True</p>
</dd>
<dt><strong>tuple</strong></dt><dd><p>The grid of the optimisation, only if full_output is True</p>
</dd>
<dt><strong>tuple</strong></dt><dd><p>The output of the optimisation, only if full_output is True</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.plot_overlap">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">plot_overlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fieldsweep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pump_pulse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_pulse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_pulse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">respro</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_ref_pulses</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#plot_overlap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.plot_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Plots the pump and excitation profiles as well as the fieldsweep and filter profile.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>Fieldsweep</strong><span class="classifier">ad.FieldSweepAnalysis</span></dt><dd><p>The FieldSweep analysis object</p>
</dd>
<dt><strong>pump_pulse</strong><span class="classifier">ad.Pulse</span></dt><dd><p>The pump pulse object</p>
</dd>
<dt><strong>exc_pulse</strong><span class="classifier">ad.Pulse</span></dt><dd><p>The excitation pulse object</p>
</dd>
<dt><strong>ref_pulse</strong><span class="classifier">ad.Pulse, optional</span></dt><dd><p>The refocusing pulse object, by default None</p>
</dd>
<dt><strong>filter</strong><span class="classifier">str or number, optional</span></dt><dd><p>The filter profile if applicable, by default None. If it is a number a filter is generated with this cutoff frequency.
If the string ‘Matched’ is used a matched filter is used.</p>
</dd>
<dt><strong>respro</strong><span class="classifier">ad.ResonatorProfileAnalysis, optional</span></dt><dd><p>The resonator profile for fitting, by default None. The resonator profile must include the fit.</p>
</dd>
<dt><strong>num_ref_pulses</strong><span class="classifier">int, optional</span></dt><dd><p>The total number of refocusing pulses, by default 2</p>
</dd>
<dt><strong>axs</strong><span class="classifier">matplotlib.axes, optional</span></dt><dd><p>The axes to plot on, by default None</p>
</dd>
<dt><strong>fig</strong><span class="classifier">matplotlib.figure, optional</span></dt><dd><p>The figure to plot on, by default None</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autodeer.DEER_analysis.calc_deer_settings">
<span class="sig-prename descclassname"><span class="pre">autodeer.DEER_analysis.</span></span><span class="sig-name descname"><span class="pre">calc_deer_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">experiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">CPdecay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Refocused2D</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_MNR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">waveform_precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/autodeer/DEER_analysis.html#calc_deer_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autodeer.DEER_analysis.calc_deer_settings" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the optimal DEER settings based on the avaliable relaxation data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>experiment</strong><span class="classifier">str</span></dt><dd><p>Type of DEER experiment, either ‘auto’, ‘4pDEER’ or ‘5pDEER’</p>
</dd>
<dt><strong>CPdecay</strong><span class="classifier">ad.CarrPurcellAnalysis</span></dt><dd><p>Carr-Purcell relaxation data</p>
</dd>
<dt><strong>Refocused2D</strong><span class="classifier">ad.RefocusedEcho2DAnalysis, optional</span></dt><dd><p>Refocused 2D data required for ‘4pDEER’, by default None</p>
</dd>
<dt><strong>target_time</strong><span class="classifier">int, optional</span></dt><dd><p>Target time for the DEER experiment in hours, by default 2</p>
</dd>
<dt><strong>target_MNR</strong><span class="classifier">float, optional</span></dt><dd><p>Target modulation to noise ratio, by default 20</p>
</dd>
<dt><strong>waveform_precision</strong><span class="classifier">int, optional</span></dt><dd><p>Precision of the waveform in ns, by default 2</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>dict</dt><dd><dl class="simple">
<dt>DEER settings, with keys:</dt><dd><p>-‘ExpType’: ‘4pDEER’ or ‘5pDEER’
-‘tau1’: in us
-‘tau2’: in us
-‘tau3’: in us, only for 5pDEER
-‘AimTime’: in hours</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>experiment</strong> (<em>str</em>)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function will calcate the optimal DEER settings based on the avaliable relaxation data, depending on the experiment type.
For 4pDEER, the optimal tau1 and tau2 are calculated based on the refocused 2D data, and for 5pDEER, the optimal tau2 is calculated based on the CPdecay data or refocused 2D if CP decay data is not availiable.
If the optimal tau2 for 5pDEER is less than 1.5us, the function will calculate the optimal tau1 and tau2 for 4pDEER instead. This is only possible if the refocused 2D data is availiable, otherwise a non optimal tau1 of 0.4us is used.</p>
</dd></dl>

</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021-2024, Hugo Karas, Gunnar Jeschke, Stefan Stoll
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">autodeer.DEER_analysis</span></code></a><ul>
<li><a class="reference internal" href="#module-contents">Module Contents</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#attributes">Attributes</a><ul>
<li><a class="reference internal" href="#autodeer.DEER_analysis.log"><code class="docutils literal notranslate"><span class="pre">log</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.MODULE_DIR"><code class="docutils literal notranslate"><span class="pre">MODULE_DIR</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.calc_identifiability"><code class="docutils literal notranslate"><span class="pre">calc_identifiability()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.find_longest_pulse"><code class="docutils literal notranslate"><span class="pre">find_longest_pulse()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.MNR_estimate"><code class="docutils literal notranslate"><span class="pre">MNR_estimate()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.val_in_us"><code class="docutils literal notranslate"><span class="pre">val_in_us()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.DEERanalysis"><code class="docutils literal notranslate"><span class="pre">DEERanalysis()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.background_func"><code class="docutils literal notranslate"><span class="pre">background_func()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.calc_correction_factor"><code class="docutils literal notranslate"><span class="pre">calc_correction_factor()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.DEERanalysis_plot"><code class="docutils literal notranslate"><span class="pre">DEERanalysis_plot()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.DEERanalysis_plot_pub"><code class="docutils literal notranslate"><span class="pre">DEERanalysis_plot_pub()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.IdentifyROI"><code class="docutils literal notranslate"><span class="pre">IdentifyROI()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.remove_echo"><code class="docutils literal notranslate"><span class="pre">remove_echo()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.shift_pulse_freq"><code class="docutils literal notranslate"><span class="pre">shift_pulse_freq()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.normalise_01"><code class="docutils literal notranslate"><span class="pre">normalise_01()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.resample_and_shift_vector"><code class="docutils literal notranslate"><span class="pre">resample_and_shift_vector()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.build__lowpass_butter_filter"><code class="docutils literal notranslate"><span class="pre">build__lowpass_butter_filter()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.functional"><code class="docutils literal notranslate"><span class="pre">functional()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.optimise_pulses"><code class="docutils literal notranslate"><span class="pre">optimise_pulses()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.plot_overlap"><code class="docutils literal notranslate"><span class="pre">plot_overlap()</span></code></a></li>
<li><a class="reference internal" href="#autodeer.DEER_analysis.calc_deer_settings"><code class="docutils literal notranslate"><span class="pre">calc_deer_settings()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../../_static/documentation_options.js?v=48f8e935"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    </body>
</html>